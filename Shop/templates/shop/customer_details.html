{% extends 'shop/layouts/main.html' %}

{% block title %}
Cart | Grocery
{% endblock title %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-primary text-white text-center">
                    <h2>Enter Customer Details</h2>
                </div>
                <div class="card-body">
                    {% if success_message %}
                    <div class="alert alert-success">
                        {{ success_message }}
                    </div>
                    {% endif %}
                    <form method="POST">
                        {% csrf_token %}
                        <div class="form-group">
                            <label for="name">Name</label>
                            {{ form.name.errors }}
                            {{ form.name }}
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            {{ form.email.errors }}
                            {{ form.email }}
                        </div>
                        <div class="form-group">
                            <label for="phone_number">Phone Number</label>
                            {{ form.phone_number.errors }}
                            {{ form.phone_number }}
                        </div>
                        <div class="form-group">
                            <label for="street_address">Street Address</label>
                            {{ form.street_address.errors }}
                            {{ form.street_address }}
                        </div>
                        <div class="form-group">
                            <label for="city">City</label>
                            {{ form.city.errors }}
                            {{ form.city }}
                        </div>
                        <div class="form-group">
                            <label for="state">State</label>
                            {{ form.state.errors }}
                            {{ form.state }}
                        </div>
                        <div class="form-group">
                            <label for="postal_code">Postal Code</label>
                            {{ form.postal_code.errors }}
                            {{ form.postal_code }}
                        </div>
                        <div class="form-group">
                            <label for="country">Country</label>
                            {{ form.country.errors }}
                            {{ form.country }}
                        </div>
                    
                        <button type="submit" class="btn btn-success">SUBMIT</button>
                    </form>
                    
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Order Summary -->


<!-- Bootstrap JS (Optional for interactions) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Calculate total amount dynamically
    const nodes = document.querySelectorAll('.amt');
    const arr = Array.from(nodes);
    const res = arr.reduce((acc, curr) => {
        return acc + Number(curr.textContent.replace('Rs ', '').trim());
    }, 0);
    document.getElementById('net').textContent = "Rs " + res;
</script>

{% endblock %}
